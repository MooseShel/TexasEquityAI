:{$PORT}

# API and WebSocket routes -> Reflex backend
handle /ping {
	reverse_proxy localhost:8001
}
handle /_event {
	reverse_proxy localhost:8001
}
handle /_upload {
	reverse_proxy localhost:8001
}
handle /_upload/* {
	reverse_proxy localhost:8001
}
handle /api/* {
	reverse_proxy localhost:8001
}

# Everything else -> static frontend
handle {
	root * /app/.web/_static
	try_files {path} {path}.html /index.html
	file_server
}
